{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { ShaderMaterial, UniformsUtils } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nclass ShaderPass extends Pass {\n  constructor(shader, textureID = \"tDiffuse\") {\n    super();\n    __publicField(this, \"textureID\");\n    __publicField(this, \"uniforms\");\n    __publicField(this, \"material\");\n    __publicField(this, \"fsQuad\");\n    this.textureID = textureID;\n    if (shader instanceof ShaderMaterial) {\n      this.uniforms = shader.uniforms;\n      this.material = shader;\n    } else {\n      this.uniforms = UniformsUtils.clone(shader.uniforms);\n      this.material = new ShaderMaterial({\n        defines: Object.assign({}, shader.defines),\n        uniforms: this.uniforms,\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader\n      });\n    }\n    this.fsQuad = new FullScreenQuad(this.material);\n  }\n  render(renderer, writeBuffer, readBuffer) {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture;\n    }\n    this.fsQuad.material = this.material;\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n      this.fsQuad.render(renderer);\n    }\n  }\n}\nexport { ShaderPass };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","ShaderMaterial","UniformsUtils","Pass","FullScreenQuad","ShaderPass","constructor","shader","textureID","uniforms","material","clone","defines","assign","vertexShader","fragmentShader","fsQuad","render","renderer","writeBuffer","readBuffer","texture","renderToScreen","setRenderTarget","clear","autoClearColor","autoClearDepth","autoClearStencil"],"sources":["/home/atharv/gitPrograms/3djs/3djs/node_modules/three-stdlib/postprocessing/ShaderPass.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { ShaderMaterial, UniformsUtils } from \"three\";\nimport { Pass, FullScreenQuad } from \"./Pass.js\";\nclass ShaderPass extends Pass {\n  constructor(shader, textureID = \"tDiffuse\") {\n    super();\n    __publicField(this, \"textureID\");\n    __publicField(this, \"uniforms\");\n    __publicField(this, \"material\");\n    __publicField(this, \"fsQuad\");\n    this.textureID = textureID;\n    if (shader instanceof ShaderMaterial) {\n      this.uniforms = shader.uniforms;\n      this.material = shader;\n    } else {\n      this.uniforms = UniformsUtils.clone(shader.uniforms);\n      this.material = new ShaderMaterial({\n        defines: Object.assign({}, shader.defines),\n        uniforms: this.uniforms,\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader\n      });\n    }\n    this.fsQuad = new FullScreenQuad(this.material);\n  }\n  render(renderer, writeBuffer, readBuffer) {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture;\n    }\n    this.fsQuad.material = this.material;\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      if (this.clear)\n        renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n      this.fsQuad.render(renderer);\n    }\n  }\n}\nexport {\n  ShaderPass\n};\n"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,MAAM,CAACC,cAAc;AACrC,IAAIC,eAAe,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAKD,GAAG,IAAID,GAAG,GAAGJ,SAAS,CAACI,GAAG,EAAEC,GAAG,EAAE;EAAEE,UAAU,EAAE,IAAI;EAAEC,YAAY,EAAE,IAAI;EAAEC,QAAQ,EAAE,IAAI;EAAEH;AAAM,CAAC,CAAC,GAAGF,GAAG,CAACC,GAAG,CAAC,GAAGC,KAAK;AAC/J,IAAII,aAAa,GAAGA,CAACN,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;EACvCH,eAAe,CAACC,GAAG,EAAE,OAAOC,GAAG,KAAK,QAAQ,GAAGA,GAAG,GAAG,EAAE,GAAGA,GAAG,EAAEC,KAAK,CAAC;EACrE,OAAOA,KAAK;AACd,CAAC;AACD,SAASK,cAAc,EAAEC,aAAa,QAAQ,OAAO;AACrD,SAASC,IAAI,EAAEC,cAAc,QAAQ,WAAW;AAChD,MAAMC,UAAU,SAASF,IAAI,CAAC;EAC5BG,WAAWA,CAACC,MAAM,EAAEC,SAAS,GAAG,UAAU,EAAE;IAC1C,KAAK,CAAC,CAAC;IACPR,aAAa,CAAC,IAAI,EAAE,WAAW,CAAC;IAChCA,aAAa,CAAC,IAAI,EAAE,UAAU,CAAC;IAC/BA,aAAa,CAAC,IAAI,EAAE,UAAU,CAAC;IAC/BA,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC;IAC7B,IAAI,CAACQ,SAAS,GAAGA,SAAS;IAC1B,IAAID,MAAM,YAAYN,cAAc,EAAE;MACpC,IAAI,CAACQ,QAAQ,GAAGF,MAAM,CAACE,QAAQ;MAC/B,IAAI,CAACC,QAAQ,GAAGH,MAAM;IACxB,CAAC,MAAM;MACL,IAAI,CAACE,QAAQ,GAAGP,aAAa,CAACS,KAAK,CAACJ,MAAM,CAACE,QAAQ,CAAC;MACpD,IAAI,CAACC,QAAQ,GAAG,IAAIT,cAAc,CAAC;QACjCW,OAAO,EAAErB,MAAM,CAACsB,MAAM,CAAC,CAAC,CAAC,EAAEN,MAAM,CAACK,OAAO,CAAC;QAC1CH,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBK,YAAY,EAAEP,MAAM,CAACO,YAAY;QACjCC,cAAc,EAAER,MAAM,CAACQ;MACzB,CAAC,CAAC;IACJ;IACA,IAAI,CAACC,MAAM,GAAG,IAAIZ,cAAc,CAAC,IAAI,CAACM,QAAQ,CAAC;EACjD;EACAO,MAAMA,CAACC,QAAQ,EAAEC,WAAW,EAAEC,UAAU,EAAE;IACxC,IAAI,IAAI,CAACX,QAAQ,CAAC,IAAI,CAACD,SAAS,CAAC,EAAE;MACjC,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACD,SAAS,CAAC,CAACZ,KAAK,GAAGwB,UAAU,CAACC,OAAO;IAC1D;IACA,IAAI,CAACL,MAAM,CAACN,QAAQ,GAAG,IAAI,CAACA,QAAQ;IACpC,IAAI,IAAI,CAACY,cAAc,EAAE;MACvBJ,QAAQ,CAACK,eAAe,CAAC,IAAI,CAAC;MAC9B,IAAI,CAACP,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAC;IAC9B,CAAC,MAAM;MACLA,QAAQ,CAACK,eAAe,CAACJ,WAAW,CAAC;MACrC,IAAI,IAAI,CAACK,KAAK,EACZN,QAAQ,CAACM,KAAK,CAACN,QAAQ,CAACO,cAAc,EAAEP,QAAQ,CAACQ,cAAc,EAAER,QAAQ,CAACS,gBAAgB,CAAC;MAC7F,IAAI,CAACX,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAC;IAC9B;EACF;AACF;AACA,SACEb,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}