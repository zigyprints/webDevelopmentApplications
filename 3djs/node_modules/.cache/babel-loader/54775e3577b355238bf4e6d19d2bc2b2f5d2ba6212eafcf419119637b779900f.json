{"ast":null,"code":"import { Vector3, LineSegments, BufferGeometry, Float32BufferAttribute, LineBasicMaterial } from \"three\";\nconst _v1 = /* @__PURE__ */new Vector3();\nconst _v2 = /* @__PURE__ */new Vector3();\nclass VertexTangentsHelper extends LineSegments {\n  constructor(object, size = 1, color = 65535) {\n    const geometry = new BufferGeometry();\n    const nTangents = object.geometry.attributes.tangent.count;\n    const positions = new Float32BufferAttribute(nTangents * 2 * 3, 3);\n    geometry.setAttribute(\"position\", positions);\n    super(geometry, new LineBasicMaterial({\n      color,\n      toneMapped: false\n    }));\n    this.object = object;\n    this.size = size;\n    this.type = \"VertexTangentsHelper\";\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    this.object.updateMatrixWorld(true);\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position;\n    const objGeometry = this.object.geometry;\n    const objPos = objGeometry.attributes.position;\n    const objTan = objGeometry.attributes.tangent;\n    let idx = 0;\n    for (let j = 0, jl = objPos.count; j < jl; j++) {\n      _v1.fromBufferAttribute(objPos, j).applyMatrix4(matrixWorld);\n      _v2.fromBufferAttribute(objTan, j);\n      _v2.transformDirection(matrixWorld).multiplyScalar(this.size).add(_v1);\n      position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n      idx = idx + 1;\n      position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n      idx = idx + 1;\n    }\n    position.needsUpdate = true;\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n}\nexport { VertexTangentsHelper };","map":{"version":3,"names":["Vector3","LineSegments","BufferGeometry","Float32BufferAttribute","LineBasicMaterial","_v1","_v2","VertexTangentsHelper","constructor","object","size","color","geometry","nTangents","attributes","tangent","count","positions","setAttribute","toneMapped","type","matrixAutoUpdate","update","updateMatrixWorld","matrixWorld","position","objGeometry","objPos","objTan","idx","j","jl","fromBufferAttribute","applyMatrix4","transformDirection","multiplyScalar","add","setXYZ","x","y","z","needsUpdate","dispose","material"],"sources":["/home/atharv/gitPrograms/3djs/3djs/node_modules/three-stdlib/helpers/VertexTangentsHelper.js"],"sourcesContent":["import { Vector3, LineSegments, BufferGeometry, Float32BufferAttribute, LineBasicMaterial } from \"three\";\nconst _v1 = /* @__PURE__ */ new Vector3();\nconst _v2 = /* @__PURE__ */ new Vector3();\nclass VertexTangentsHelper extends LineSegments {\n  constructor(object, size = 1, color = 65535) {\n    const geometry = new BufferGeometry();\n    const nTangents = object.geometry.attributes.tangent.count;\n    const positions = new Float32BufferAttribute(nTangents * 2 * 3, 3);\n    geometry.setAttribute(\"position\", positions);\n    super(geometry, new LineBasicMaterial({ color, toneMapped: false }));\n    this.object = object;\n    this.size = size;\n    this.type = \"VertexTangentsHelper\";\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n  update() {\n    this.object.updateMatrixWorld(true);\n    const matrixWorld = this.object.matrixWorld;\n    const position = this.geometry.attributes.position;\n    const objGeometry = this.object.geometry;\n    const objPos = objGeometry.attributes.position;\n    const objTan = objGeometry.attributes.tangent;\n    let idx = 0;\n    for (let j = 0, jl = objPos.count; j < jl; j++) {\n      _v1.fromBufferAttribute(objPos, j).applyMatrix4(matrixWorld);\n      _v2.fromBufferAttribute(objTan, j);\n      _v2.transformDirection(matrixWorld).multiplyScalar(this.size).add(_v1);\n      position.setXYZ(idx, _v1.x, _v1.y, _v1.z);\n      idx = idx + 1;\n      position.setXYZ(idx, _v2.x, _v2.y, _v2.z);\n      idx = idx + 1;\n    }\n    position.needsUpdate = true;\n  }\n  dispose() {\n    this.geometry.dispose();\n    this.material.dispose();\n  }\n}\nexport {\n  VertexTangentsHelper\n};\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,YAAY,EAAEC,cAAc,EAAEC,sBAAsB,EAAEC,iBAAiB,QAAQ,OAAO;AACxG,MAAMC,GAAG,GAAG,eAAgB,IAAIL,OAAO,CAAC,CAAC;AACzC,MAAMM,GAAG,GAAG,eAAgB,IAAIN,OAAO,CAAC,CAAC;AACzC,MAAMO,oBAAoB,SAASN,YAAY,CAAC;EAC9CO,WAAWA,CAACC,MAAM,EAAEC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,KAAK,EAAE;IAC3C,MAAMC,QAAQ,GAAG,IAAIV,cAAc,CAAC,CAAC;IACrC,MAAMW,SAAS,GAAGJ,MAAM,CAACG,QAAQ,CAACE,UAAU,CAACC,OAAO,CAACC,KAAK;IAC1D,MAAMC,SAAS,GAAG,IAAId,sBAAsB,CAACU,SAAS,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAClED,QAAQ,CAACM,YAAY,CAAC,UAAU,EAAED,SAAS,CAAC;IAC5C,KAAK,CAACL,QAAQ,EAAE,IAAIR,iBAAiB,CAAC;MAAEO,KAAK;MAAEQ,UAAU,EAAE;IAAM,CAAC,CAAC,CAAC;IACpE,IAAI,CAACV,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACU,IAAI,GAAG,sBAAsB;IAClC,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,MAAM,CAAC,CAAC;EACf;EACAA,MAAMA,CAAA,EAAG;IACP,IAAI,CAACb,MAAM,CAACc,iBAAiB,CAAC,IAAI,CAAC;IACnC,MAAMC,WAAW,GAAG,IAAI,CAACf,MAAM,CAACe,WAAW;IAC3C,MAAMC,QAAQ,GAAG,IAAI,CAACb,QAAQ,CAACE,UAAU,CAACW,QAAQ;IAClD,MAAMC,WAAW,GAAG,IAAI,CAACjB,MAAM,CAACG,QAAQ;IACxC,MAAMe,MAAM,GAAGD,WAAW,CAACZ,UAAU,CAACW,QAAQ;IAC9C,MAAMG,MAAM,GAAGF,WAAW,CAACZ,UAAU,CAACC,OAAO;IAC7C,IAAIc,GAAG,GAAG,CAAC;IACX,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEC,EAAE,GAAGJ,MAAM,CAACX,KAAK,EAAEc,CAAC,GAAGC,EAAE,EAAED,CAAC,EAAE,EAAE;MAC9CzB,GAAG,CAAC2B,mBAAmB,CAACL,MAAM,EAAEG,CAAC,CAAC,CAACG,YAAY,CAACT,WAAW,CAAC;MAC5DlB,GAAG,CAAC0B,mBAAmB,CAACJ,MAAM,EAAEE,CAAC,CAAC;MAClCxB,GAAG,CAAC4B,kBAAkB,CAACV,WAAW,CAAC,CAACW,cAAc,CAAC,IAAI,CAACzB,IAAI,CAAC,CAAC0B,GAAG,CAAC/B,GAAG,CAAC;MACtEoB,QAAQ,CAACY,MAAM,CAACR,GAAG,EAAExB,GAAG,CAACiC,CAAC,EAAEjC,GAAG,CAACkC,CAAC,EAAElC,GAAG,CAACmC,CAAC,CAAC;MACzCX,GAAG,GAAGA,GAAG,GAAG,CAAC;MACbJ,QAAQ,CAACY,MAAM,CAACR,GAAG,EAAEvB,GAAG,CAACgC,CAAC,EAAEhC,GAAG,CAACiC,CAAC,EAAEjC,GAAG,CAACkC,CAAC,CAAC;MACzCX,GAAG,GAAGA,GAAG,GAAG,CAAC;IACf;IACAJ,QAAQ,CAACgB,WAAW,GAAG,IAAI;EAC7B;EACAC,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC9B,QAAQ,CAAC8B,OAAO,CAAC,CAAC;IACvB,IAAI,CAACC,QAAQ,CAACD,OAAO,CAAC,CAAC;EACzB;AACF;AACA,SACEnC,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}